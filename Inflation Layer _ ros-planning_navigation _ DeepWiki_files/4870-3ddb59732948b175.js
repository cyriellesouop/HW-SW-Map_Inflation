"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4870],{12143:(e,t,a)=>{a.d(t,{B:()=>E});var r=a(95155),n=a(539),s=a(40809),l=a(46986),o=a(13353),i=a(95243),d=a(35695),c=a(12115),u=a(46102),m=a(59434);let p=navigator.platform.toLowerCase().includes("mac");var h=a(52181),x=a(68597),f=a(14656),g=a(87598),v=a(29205),b=a(6694),w=a(5663),y=a(30285),j=a(44838);let k=[{name:"fast",label:"Fast",description:"Quick and responsive answers",icon:x.l,buttonClassName:"",weight:"fill"},{name:"deep",label:"Deep Research",description:"More thorough investigation",icon:f.j,buttonClassName:"data-[selected=true]:bg-[#ef9541]/20 data-[selected=true]:text-[#ef9541] data-[selected=true]:hover:bg-[#ef9541]/30 data-[selected=true]:data-[state=open]:bg-[#ef9541]/30 data-[selected=true]:data-[state=open]:text-[#ef9541]",weight:"fill"},{name:"codemap",label:"Codemap",description:"Structured explanation grounded in code",icon:g.z,weight:"regular",buttonClassName:"data-[selected=true]:bg-purple-500/20 data-[selected=true]:text-purple-600 dark:data-[selected=true]:text-purple-400 data-[selected=true]:hover:bg-purple-500/20 data-[selected=true]:data-[state=open]:bg-purple-500/20 data-[selected=true]:data-[state=open]:text-purple-600 dark:data-[selected=true]:data-[state=open]:text-purple-400"}];function N(e){let{value:t,onValueChange:a,modes:n}=e,s=n?k.filter(e=>n.includes(e.name)):k,l=s.find(e=>e.name===t),o=null==l?void 0:l.icon;return(0,r.jsxs)(j.rI,{modal:!1,children:[(0,r.jsx)(j.ty,{asChild:!0,children:(0,r.jsxs)(y.$,{variant:"ghost","data-selected":!!t,className:(0,m.cn)("data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex h-9 w-fit cursor-pointer items-center justify-between gap-2 whitespace-nowrap rounded-md bg-transparent px-3 py-2 text-sm text-neutral-700 outline-none transition-all focus-visible:ring-[3px] dark:text-neutral-400 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",null==l?void 0:l.buttonClassName),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,r.jsx)(o,{weight:(null==l?void 0:l.weight)||"fill",className:"size-4 text-current"}),(0,r.jsx)("span",{children:(null==l?void 0:l.label)||"Select a mode"})]}),(0,r.jsx)(v.a,{className:"size-4 text-current opacity-50"})]})}),(0,r.jsx)(j.SQ,{align:"start",className:"min-w-[200px]",children:s.map(e=>{let n=e.icon,s=e.name===t;return(0,r.jsxs)(j._2,{onClick:()=>{(0,w.sx)(w.lA.MODE_SWITCH,{from_mode:t,to_mode:e.name}),a(e.name)},className:"flex items-start gap-2 py-2 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)(n,{weight:e.weight||"fill",className:"mt-0.5 size-4 shrink-0"}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-0.5",children:[(0,r.jsx)("span",{className:"font-medium",children:e.label}),(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:e.description})]}),s&&(0,r.jsx)(b.J,{className:"size-4 shrink-0 text-current"})]},e.name)})})]})}let C=()=>(0,r.jsx)("div",{className:"animate-spin",children:(0,r.jsxs)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),_=e=>{let t=new URL(window.location.href);e?t.searchParams.set("mode",e):t.searchParams.delete("mode"),window.history.replaceState({},"",t.toString())};function E(e){let{onSubmit:t,prompt:a,setPrompt:x,disabled:f,placeholder:g,className:v,disableOptions:b={},showRows:w=2,onCmdSubmit:y,focusSignal:j,onKeyDown:k,onSelectionChange:E,initialSearchMode:S="fast",attachments:B=[],setAttachments:z,condensed:L=!1,selectedRepoNames:A,showNewTabShortcut:R=!1,textareaProps:M={}}=e,[I,T]=(0,o.fp)(h.O),[D,F]=(0,c.useState)(S),P=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(void 0!==j){var e;null==(e=P.current)||e.focus()}},[j]);let H=(0,d.useSearchParams)(),W=H.get("prompt"),U=H.get("mode"),[V,O]=(0,c.useState)(!1);(0,c.useEffect)(()=>{U&&U!==D&&["codemap","deep","fast"].includes(U)&&(F(U),_()),W&&"/search"===window.location.pathname&&x(W)},[W,U,D,x]);let q=f||!a.trim()||a.length>5e4;(0,c.useEffect)(()=>{!W||a!==W||q||V||(t(A,D,!1),O(!0))},[W,a,q,t,A,D,V,U,B]);let X=()=>{q||t(A,D,!1)},K=()=>{q||(y?null==y||y():R?t(A,D,!0):t(A,D,!1))},$=(0,c.useMemo)(()=>{let e=["fast"];return b.deep||e.push("deep"),b.codemap||e.push("codemap"),e},[b.deep,b.codemap]);return(0,c.useEffect)(()=>{P.current&&P.current.focus()},[]),(0,r.jsxs)(i.P.form,{onSubmit:e=>{e.preventDefault(),X()},className:(0,m.cn)("z-20 w-full rounded-md backdrop-blur-md transition-shadow [pointer-events:all] focus-within:ring-[.5px] focus-within:ring-indigo-300/40",v),children:[(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"relative text-base font-normal",children:[I&&(0,r.jsxs)("div",{className:"flex items-start justify-between rounded-t-[6px] bg-white px-3 py-2 dark:bg-[#3a3a45]",children:[(0,r.jsxs)("span",{className:"line-clamp-2 text-sm !text-neutral-800 dark:!text-neutral-300",children:["...",I,"..."]}),(0,r.jsx)("button",{onClick:()=>T(null),className:"mt-0.5 cursor-pointer rounded-full bg-white p-0.5 text-black",children:(0,r.jsx)(n.X,{size:10,weight:"bold"})})]}),B.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 px-3 pt-2",children:B.map(e=>e.file.type.startsWith("image/")?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e.localUrl||e.url,alt:e.file.name,className:"h-32 w-32 rounded-sm bg-neutral-800 object-contain",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238F8F8F'%3E%3Cpath d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'/%3E%3C/svg%3E"}}),(0,r.jsx)("button",{onClick:()=>z&&z(t=>t.filter(t=>t.file!==e.file)),className:"absolute -right-1 -top-1 rounded-full bg-neutral-700 p-0.5 text-neutral-400 hover:bg-neutral-600",children:(0,r.jsx)(n.X,{size:12})})]},e.file.name):null)}),(0,r.jsxs)("div",{className:"relative px-3 pt-3",children:[!a&&(0,r.jsx)("div",{className:(0,m.cn)("pointer-events-none absolute left-3 right-3 top-3 ml-px flex w-full overflow-hidden",L?"text-sm":"text-base"),"aria-hidden":"true",children:g}),(0,r.jsx)("textarea",{...M,placeholder:"",rows:w,value:a,onChange:e=>{x(e.target.value),e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,150)+"px"},onKeyDown:e=>{k&&k(e)||"Enter"!==e.key||e.shiftKey||e.nativeEvent.isComposing||(e.preventDefault(),e.metaKey||e.ctrlKey?K():X())},onSelect:e=>{let t=e.target;null==E||E(t.selectionStart,t.selectionEnd)},ref:P,className:(0,m.cn)("w-full resize-none rounded-none bg-transparent text-white focus:outline-none",L?"text-sm":"text-base")})]}),a.length>4e4&&(0,r.jsxs)("div",{className:"mt-1 text-right text-xs ".concat(a.length>5e4?"text-red-500":"text-neutral-400"),children:[a.length," / ",5e4," characters",a.length>5e4&&(0,r.jsx)("span",{className:"ml-1",children:"- Character limit exceeded"})]})]})}),(0,r.jsxs)("div",{className:(0,m.cn)("dark:border-border flex h-12 items-center justify-between border-t-[0.5px] border-[#c0c0c0]",L?"p-2":"p-3 pl-1.5"),children:[(0,r.jsx)("div",{className:(0,m.cn)("flex items-center gap-4 text-sm ",L?"gap-3":"gap-4"),children:$.length>1&&(0,r.jsx)(N,{value:D,onValueChange:F,modes:$})}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(u.m_,{delayDuration:50,children:[(0,r.jsx)(u.k$,{asChild:!0,children:(0,r.jsx)("button",{className:(0,m.cn)("rounded-full bg-[#e0e0e0] p-1 text-neutral-400 transition-colors dark:bg-neutral-700",!q&&!f&&"cursor-pointer bg-neutral-600 !text-white dark:bg-white dark:!text-black"),disabled:q||f,children:f?(0,r.jsx)(C,{}):(0,r.jsx)(s.Q,{size:18})})}),(0,r.jsx)(u.ZI,{side:"top",align:"end",sideOffset:8,children:(0,r.jsxs)("span",{className:"flex items-center gap-1",children:["Enter to send",R&&(0,r.jsxs)(r.Fragment,{children:[", ",p?(0,r.jsx)(l.u,{size:12}):"Ctrl+","Enter for new tab"]})]})})]})})]})]})}},17494:(e,t,a)=>{a.d(t,{M:()=>c});var r=a(95155),n=a(13319),s=a(6874),l=a.n(s),o=a(16503),i=a.n(o),d=a(59434);function c(e){let{wiki:t,repoName:a,selectedPage:s,onLinkClick:o,previewId:c}=e;return(0,r.jsxs)("div",{className:"flex h-full w-full max-w-full flex-shrink-0 flex-col overflow-hidden",style:{scrollbarColor:"var(--color-border) transparent"},children:[(0,r.jsx)("div",{className:"flex-shrink-0 px-2",children:t.metadata.generated_at&&(0,r.jsxs)("div",{className:"text-secondary pb-1 text-xs",children:["Last indexed: ",function(e){try{let t=new Date(e);return(0,n.GP)(t,"d MMMM yyyy")}catch(t){return e}}(t.metadata.generated_at)," (",(0,r.jsx)("a",{href:"https://github.com/".concat(a,"/commits/").concat(t.metadata.commit_hash),target:"_blank",rel:"noopener noreferrer",children:t.metadata.commit_hash.substring(0,6)}),")"]})}),(0,r.jsx)("ul",{className:"flex-1 flex-shrink-0 space-y-1 overflow-y-auto py-1",style:{scrollbarWidth:"none"},children:t.pages.map(e=>{let t=e.page_plan.id.split(".").length-1;return(0,r.jsx)("li",{style:{paddingLeft:12*t},children:(0,r.jsx)(l(),{"data-selected":s===e.page_plan.id,className:(0,d.cn)("hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none","text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal"),href:c?"/".concat(a,"/preview/").concat(c,"/").concat(e.page_plan.id,"-").concat(i()(e.page_plan.title).toLowerCase()):"/".concat(a,"/").concat(e.page_plan.id,"-").concat(i()(e.page_plan.title).toLowerCase()),onClick:o,children:e.page_plan.title})},e.page_plan.id)})})]})}},30285:(e,t,a)=>{a.d(t,{$:()=>i});var r=a(95155),n=a(99708),s=a(73253);a(12115);var l=a(59434);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",xs:"h-7 rounded-md gap-1.5 px-2 has-[>svg]:px-2",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:a,size:s,asChild:i=!1,...d}=e,c=i?n.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,l.cn)(o({variant:a,size:s,className:t})),...d})}},44838:(e,t,a)=>{a.d(t,{SQ:()=>m,_2:()=>p,rI:()=>c,ty:()=>u});var r=a(95155),n=a(17443),s=a(13052),l=a(5196),o=a(9428),i=a(12115),d=a(59434);let c=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,i.forwardRef((e,t)=>{let{className:a,inset:l,children:o,...i}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,d.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",l&&"pl-8",a),...i,children:[o,(0,r.jsx)(s.A,{className:"ml-auto h-4 w-4"})]})}).displayName=n.ZP.displayName,i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",a),...s})}).displayName=n.G5.displayName;let m=i.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",a),...l})})});m.displayName=n.UC.displayName;let p=i.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",!l.disabled&&"cursor-pointer",s&&"pl-8",a),...l})});p.displayName=n.q7.displayName,i.forwardRef((e,t)=>{let{className:a,children:s,checked:o,...i}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:o,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,i.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName,i.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=n.JU.displayName,i.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,d.cn)("bg-muted -mx-1 my-1 h-px",a),...s})}).displayName=n.wv.displayName},48730:(e,t,a)=>{a.d(t,{D:()=>l});var r=a(95155),n=a(42359),s=a(93224);function l(e){let{onCopyLink:t,label:a}=e;return(0,r.jsx)("button",{className:"relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100","aria-label":a,onClick:()=>{t(),s.oR.success("Link copied!")},children:(0,r.jsx)(n.N,{weight:"bold",className:"h-4 w-4"})})}},52181:(e,t,a)=>{a.d(t,{O:()=>s,m:()=>n});var r=a(3005);let n=(0,r.eU)(null),s=(0,r.eU)(null)},54165:(e,t,a)=>{a.d(t,{Cf:()=>m,Es:()=>h,HM:()=>c,L3:()=>x,c7:()=>p,lG:()=>o,zM:()=>i});var r=a(95155),n=a(20655),s=a(54416);a(12115);var l=a(59434);function o(e){let{...t}=e;return(0,r.jsx)(n.bL,{"data-slot":"dialog",...t})}function i(e){let{...t}=e;return(0,r.jsx)(n.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,r.jsx)(n.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{...t}=e;return(0,r.jsx)(n.bm,{"data-slot":"dialog-close",...t})}function u(e){let{className:t,...a}=e;return(0,r.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50","backdrop-blur-xs",t),...a})}function m(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(u,{}),(0,r.jsx)(n.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,children:a})]})}function p(e){let{className:t,children:a,showCloseButton:o=!0,...i}=e;return(0,r.jsxs)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-row justify-between gap-2","border-border border-b pb-2",t),...i,children:[a,o&&(0,r.jsxs)(n.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground rounded-xs focus:outline-hidden opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:[(0,r.jsx)(s.A,{className:"size-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})}function h(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col gap-2 sm:flex-row sm:justify-end","border-border border-t pt-2",t),...a})}function x(e){let{className:t,...a}=e;return(0,r.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg font-medium sm:text-xl",t),...a})}},69870:(e,t,a)=>{a.d(t,{H:()=>r});function r(e){let t=e.split("\n"),a=!1;for(let e=0;e<t.length;e++)t[e].trim().startsWith("```")&&(a=!a);return a&&t.push("```"),t.join("\n")}},70254:(e,t,a)=>{a.d(t,{o:()=>en,A:()=>eo});var r=a(95155),n=a(45299),s=a(80118),l=a(28384),o=a(87826),i=a(539),d=a(59507),c=a(60284),u=a(7805),m=a(13353),p=a(8947),h=a(55028),x=a(35695),f=a(12115),g=a(16503),v=a.n(g),b=a(5663),w=a(52181),y=a(9506),j=a(59772),k=a(39403),N=a(31499),C=a(93651),_=a(62627),E=a(14288),S=a(97030),B=a(87815),z=a(39780),L=a(59434);function A(e){var t,a,n;let{node:s,...l}=e,o=(0,y.D)().resolvedTheme,[i,d]=(0,f.useState)(!1);(0,f.useEffect)(()=>{d(!0)},[]);let c=null==(a=l.className)||null==(t=a.match(/language-(\w+)/))?void 0:t[1];return("cuda"===c&&(c="cpp"),c)?i?(0,r.jsx)(k.A,{language:c,style:"light"===o?C.A:N.A,customStyle:{margin:0,background:"transparent",padding:"6px 8px",width:"100%"},codeTagProps:{style:{fontSize:"12px"}},children:null==(n=l.children)?void 0:n.trimEnd()}):(0,r.jsx)("div",{className:"rounded-sm border border-[#8F8F8F]/30 p-2 text-xs font-normal leading-[15px]",style:{backgroundColor:"transparent",minHeight:"2em"}}):(0,r.jsx)("code",{...l,className:(0,L.cn)(l.className,"rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30")})}let R=e=>{let{contents:t,components:a}=e;return(0,r.jsx)(j.oz,{remarkPlugins:[z.A],rehypePlugins:[[_.A,{target:"_blank"}],E.A,[S.A,{tagNames:[...B.j.tagNames||[],"fileref"],attributes:{...B.j.attributes,fileref:["file-url","file-path","min","max"]}}]],components:{fileref:M,code:A,pre:I,...a},className:"prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]",children:t})};function M(e){let{node:t}=e,a=t.properties,n=a["file-url"],s=a["file-path"],l=a.min,o=a.max,i=o?"".concat(l,"-").concat(o):l;return(0,r.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75",children:[(0,r.jsxs)("span",{className:(0,u.A)("flex items-center break-all rounded-l px-2 py-1.5","bg-[#e5e5e5] text-[#333333]","dark:bg-[#252525] dark:text-[#e4e4e4]",!l&&"rounded-r"),children:[(0,r.jsx)("svg",{className:"mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),s]}),l&&(0,r.jsx)("span",{className:(0,u.A)("flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5","border-[#dddddd] bg-[#d8d8d8] text-[#666666]","dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]"),children:i})]})}function I(e){let{node:t,...a}=e;return(0,r.jsx)("pre",{...a,className:(0,u.A)("px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900","dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white","[&_code]:block [&_code]:border-none [&_code]:bg-transparent [&_code]:p-0")})}let T=(0,f.memo)(R);var D=a(48730),F=a(54165),P=a(73320),H=a(18978),W=a(94348),U=a(74681),V=a(91769),O=a(12128),q=a(5009).hp;let X=async e=>{try{let[t,a]=e.split("/"),r=new O.Eg;try{let{data:e}=await r.rest.repos.getReadme({owner:t,repo:a});console.log("readme",e);let n=q.from(e.content,"base64").toString().includes("deepwiki");return{hasReadme:!0,mentionsWiki:n,readmeUrl:e.html_url}}catch(e){return{hasReadme:!1,mentionsWiki:!1}}}catch(e){return console.error("Error checking readme:",e),{hasReadme:!1,mentionsWiki:!1}}},K=(e,t)=>(0,V.I)({queryKey:["readme-check",e],queryFn:()=>X(e),staleTime:36e5,refetchOnWindowFocus:!1,...t});var $=a(42280);let Y=async(e,t)=>{try{let a="".concat(U.H,"/ada/public_repo_update_featured_status?repo_name=").concat(encodeURIComponent(e),"&featured=").concat(t),r=await fetch(a,{method:"POST"});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(e){console.error("Failed to update featured status:",e)}},Z=e=>{let{repoName:t,wiki:a}=e,{data:n}=K(t),[s,l]=(0,f.useState)(!1),[o,d]=(0,f.useState)(""),[c,u]=(0,f.useState)(!1),[m,p]=(0,f.useState)(!1),[h,x]=(0,f.useState)(""),[g,v]=(0,f.useState)(!1),[w,y]=(0,f.useState)(!1),[j,k]=(0,f.useState)(!1);(0,f.useEffect)(()=>{d(window.location.href)},[]),(0,f.useEffect)(()=>{n&&n.mentionsWiki&&!s&&(Y(t,n.mentionsWiki),l(!0))},[n,t,s]);let N=async e=>{u(!0);try{let a=await (0,$.e)(),r=new URLSearchParams;r.append("repo_name",t),r.append("email_to_notify",e),a&&r.append("recaptcha_token",a);let n=await fetch("".concat(U.H,"/ada/index_public_repo?").concat(r.toString()),{method:"POST"});if(!n.ok)throw Error("Error ".concat(n.status,": ").concat(await n.text()));v(!0)}catch(e){console.error("Failed to refresh wiki:",e)}finally{u(!1),p(!1)}},C=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),_=(0,f.useMemo)(()=>{var e;if(!(null==a||null==(e=a.metadata)?void 0:e.generated_at))return{isDisabled:!1,daysRemaining:0};let t=new Date(a.metadata.generated_at),r=(new Date().getTime()-t.getTime())/864e5,n=r<=7,s=n?Math.ceil(7-r):0;return{isDisabled:n,daysRemaining:s}},[a]),E=_.isDisabled;return(0,r.jsx)(W.Kq,{children:(0,r.jsxs)(r.Fragment,{children:[n&&n.mentionsWiki&&(0,r.jsx)("div",{className:"mx-4 my-4 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:(0,r.jsx)("p",{className:"text-sm font-medium",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.R,{size:16,className:"inline-block"})," This wiki is featured in the"," ",n.readmeUrl?(0,r.jsx)("a",{href:n.readmeUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>(0,b.sx)(b.lA.BANNER_README_EDIT_CLICK,{repoName:t}),className:"text-pacific hover:underline",children:"repository"}):"repository",(0,r.jsxs)(W.bL,{delayDuration:100,children:[(0,r.jsx)(W.l9,{asChild:!0,children:(0,r.jsx)(H.R,{size:16,className:"ml-1.5 inline-block cursor-help text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-400"})}),(0,r.jsx)(W.ZL,{children:(0,r.jsxs)(W.UC,{side:"top",className:"z-50 max-w-[250px] rounded-md border border-neutral-200 bg-white px-2 py-1 text-sm text-neutral-800 shadow-md dark:border-neutral-600 dark:bg-neutral-900 dark:text-white",children:["This wiki will automatically refresh weekly with the latest code changes since it's featured in the repository's README.",(0,r.jsx)(W.i3,{className:"fill-white dark:fill-neutral-900"})]})})]})]})})}),!j&&(0,r.jsxs)("div",{className:"relative mx-4 my-4 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:[(0,r.jsxs)("button",{onClick:()=>k(!0),className:"absolute right-2 top-2 rounded-sm p-1 opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-400 focus:ring-offset-2",children:[(0,r.jsx)(i.X,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Dismiss"})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Refresh this wiki"}),E&&!g&&(0,r.jsxs)("p",{className:"mt-2 text-sm font-light text-neutral-500 dark:text-neutral-400",children:["This wiki was recently refreshed. Please wait"," ",_.daysRemaining," day",1!==_.daysRemaining?"s":""," to refresh again."]}),E||m||g?m?(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsx)("input",{type:"email",placeholder:"your@email.com",value:h,onChange:e=>{let t=e.target.value;x(t),y(C(t.trim()))},className:"w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-neutral-700 dark:bg-neutral-800 dark:text-white"}),(0,r.jsx)("button",{onClick:()=>N(h),disabled:!h||!w||c||E,className:"flex items-center justify-center gap-1 rounded-md bg-neutral-200 px-3 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-300 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:c?"Starting refresh...":"Start refresh"})]}):null:(0,r.jsx)("button",{onClick:()=>p(!0),className:"mt-2 flex items-center gap-1 rounded-md bg-neutral-200 px-2 py-1 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-300 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:"Enter email to refresh"}),g&&(0,r.jsxs)("p",{className:"mt-2 text-sm font-light text-green-600 dark:text-green-400",children:["Refresh started! We'll email you when the refresh completes.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"font-medium",children:"Want auto-refresh?"})," Add a badge in the repo's README",(0,r.jsxs)(W.bL,{delayDuration:100,children:[(0,r.jsx)(W.l9,{asChild:!0,children:(0,r.jsx)(H.R,{size:16,className:"ml-1.5 inline-block cursor-help text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-400"})}),(0,r.jsx)(W.ZL,{children:(0,r.jsxs)(W.UC,{side:"top",className:"z-50 max-w-[250px] rounded-md border border-neutral-200 bg-white px-2 py-1 text-sm text-neutral-800 shadow-md dark:border-neutral-600 dark:bg-neutral-900 dark:text-white",children:["Add a badge to this wiki in the repo's README file to auto-refresh the wiki weekly."," ",(0,r.jsx)("a",{href:o?"/badge-maker?url=".concat(encodeURIComponent(o)):"/badge-maker",target:"_blank",rel:"noopener noreferrer",className:"text-pacific hover:underline",children:"Create badge"}),(0,r.jsx)(W.i3,{className:"fill-white dark:fill-neutral-900"})]})})]})]})]})]})]})})};var J=a(85807),G=a(69870),Q=a(17494);function ee(e){let{svg:t,className:a}=e,n=f.useRef(null);return f.useEffect(()=>{let e=n.current;if(!e)return;e.innerHTML=t;let a=e.querySelector("svg");if(!a)return;if(a.style.touchAction="none",a.style.userSelect="none",a.style.cursor="grab",a.style.minHeight="fit-content",a.style.maxHeight=a.style.maxWidth="100%",a.removeAttribute("width"),a.removeAttribute("height"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),!a.viewBox||!a.viewBox.baseVal.width||!a.viewBox.baseVal.height){let e=a.getBoundingClientRect(),t=Number(a.getAttribute("width"))||e.width||800,r=Number(a.getAttribute("height"))||e.height||600;a.setAttribute("viewBox","0 0 ".concat(t," ").concat(r))}let r={width:a.viewBox.baseVal.width,height:a.viewBox.baseVal.height},s=!1,l=!1,o={x:0,y:0,w:0,h:0},i={x:0,y:0,w:0,h:0},d=e=>{var t;if(0!==e.button)return;e.preventDefault();let r=a.getBoundingClientRect();o={x:e.clientX,y:e.clientY,w:r.width,h:r.height},i={x:a.viewBox.baseVal.x,y:a.viewBox.baseVal.y,w:a.viewBox.baseVal.width,h:a.viewBox.baseVal.height},s=!0,l=!1,a.style.cursor="grabbing",null==(t=a.setPointerCapture)||t.call(a,e.pointerId)},c=e=>{if(!s)return;e.preventDefault();let t=e.clientX-o.x,r=e.clientY-o.y;Math.sqrt(t*t+r*r)>5&&(l=!0);let n=i.w/o.w,d=i.h/o.h,c=i.x-t*n,u=i.y-r*d;a.setAttribute("viewBox","".concat(c," ").concat(u," ").concat(i.w," ").concat(i.h))},u=e=>{var t;s&&(s=!1,a.style.cursor="grab",null==(t=a.releasePointerCapture)||t.call(a,e.pointerId))},m=e=>{l&&(e.stopPropagation(),e.preventDefault(),l=!1)},p=e=>{e.preventDefault();let t=a.viewBox.baseVal,n=a.getBoundingClientRect(),s=e.clientX-n.left,l=e.clientY-n.top,o=Math.pow(1.06,e.deltaY>0?1:-1),i=t.x,d=t.y,c=t.width,u=t.height,m=i+s/n.width*c,p=d+l/n.height*u,h=c*o,x=u*o,f=r.width;h=Math.max(10,Math.min(f,h)),x=Math.max(10/c*u,Math.min(f/c*u,x));let g=m-s/n.width*h,v=p-l/n.height*x;a.setAttribute("viewBox","".concat(g," ").concat(v," ").concat(h," ").concat(x))};return a.addEventListener("pointerdown",d,{passive:!1}),a.addEventListener("pointermove",c,{passive:!1}),a.addEventListener("pointerup",u,{passive:!1}),a.addEventListener("pointercancel",u,{passive:!1}),a.addEventListener("wheel",p,{passive:!1}),a.addEventListener("click",m,{passive:!1}),()=>{a.removeEventListener("pointerdown",d),a.removeEventListener("pointermove",c),a.removeEventListener("pointerup",u),a.removeEventListener("pointercancel",u),a.removeEventListener("wheel",p),a.removeEventListener("click",m)}},[t]),(0,r.jsx)("div",{ref:n,className:a})}let et=e=>{let{content:t}=e,[n,s]=f.useState(""),[l,d]=f.useState(!1),c=(0,y.D)().resolvedTheme;return(f.useEffect(()=>{let e=!1;return async function(){try{var r;let n=(!((r=t.split("\n").filter(e=>{let t=e.trim();return!t.startsWith("style ")&&!t.startsWith("classDef ")}).join("\n")).includes("sequenceDiagram")&&r.includes(" as "))?r:r.replace(/(^\s*)(participant|actor)\s+["']([^"']+)["']\s+as\s+([^"'\s]+)$/gm,(e,t,a,r,n)=>"".concat(t).concat(a," ").concat(n," as ").concat(r))).replace(/\|"(\d+)\.\s/g,'|"$1.'),{default:l}=await Promise.all([a.e(5661),a.e(5280)]).then(a.bind(a,85280));l.initialize({startOnLoad:!1,theme:"base",securityLevel:"strict",themeVariables:"dark"===c?{primaryColor:"#222",primaryTextColor:"#fff",primaryBorderColor:"#333",lineColor:"#666",mainBkg:"#111",nodeBorder:"#222",clusterBkg:"#161616",clusterBorder:"#222",textColor:"#ccc",titleColor:"#fff",labelTextColor:"#ccc",activeBorderColor:"#333",activeTextColor:"#fff",altBackground:"#161616",noteTextColor:"#ccc",noteBkgColor:"#222",noteBorderColor:"#333",nodeBkg:"#111",actorBkg:"#161616",actorBorder:"#444",signalColor:"#666",signalTextColor:"#ccc",classText:"#ccc",labelBoxBkgColor:"#111",labelBoxBorderColor:"#222",fontFamily:"ui-sans-serif, -apple-system, system-ui, Segoe UI, Helvetica",fontSize:"16px",curve:"basis",edgeLabelBackground:"#161616",tertiaryColor:"#333"}:{primaryColor:"#eaeaea",primaryTextColor:"#333",primaryBorderColor:"#ccc",lineColor:"#999",mainBkg:"#ffffff",nodeBorder:"#dddddd",clusterBkg:"#f8f8f8",clusterBorder:"#dddddd",textColor:"#333",titleColor:"#444",labelTextColor:"#333",activeBorderColor:"#aaaaaa",activeTextColor:"#333",altBackground:"#f8f8f8",noteTextColor:"#333",noteBkgColor:"#fff5ad",noteBorderColor:"#e6d280",nodeBkg:"#ffffff",actorBkg:"#ffffff",actorBorder:"#cccccc",signalColor:"#999999",signalTextColor:"#333333",classText:"#333333",labelBoxBkgColor:"#ffffff",labelBoxBorderColor:"#dddddd",fontFamily:"ui-sans-serif, -apple-system, system-ui, Segoe UI, Helvetica",fontSize:"16px",curve:"basis",edgeLabelBackground:"#ffffff",tertiaryColor:"#dddddd"},logLevel:5});let o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o);let i=n.replaceAll(/\\n/g,"<br/>"),u="mermaid-".concat(Math.random().toString(36).substring(2,15)),{svg:m}=await l.render(u,i,o);e||(s(m),d(!1)),document.body.removeChild(o)}catch(t){console.error("Failed to render mermaid diagram:",t),e||d(!0)}}(),()=>{e=!0}},[t,c]),l||!n)?null:(0,r.jsxs)(F.lG,{children:[(0,r.jsx)(F.zM,{asChild:!0,children:(0,r.jsxs)("div",{className:"group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]",children:[(0,r.jsx)(ee,{svg:n,className:"flex justify-center"}),(0,r.jsx)("div",{className:"bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100",children:(0,r.jsx)(o.D,{size:16})})]})}),(0,r.jsxs)(F.Cf,{className:"bg-surface max-w-[90vw] p-0 sm:max-w-[90vw]",children:[(0,r.jsxs)(F.HM,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground rounded-xs focus:outline-hidden absolute right-2 top-2 opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:[(0,r.jsx)(i.X,{className:"size-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(ee,{svg:n,className:"flex max-h-full max-w-full justify-center"})})]})]})},ea=(0,h.default)(()=>Promise.resolve(et),{ssr:!1});function er(e){let{href:t,headers:a,isAda:n}=e;if(t&&t.startsWith("#header-")&&n){let e=t.replace("#header-",""),n=a.find(t=>t.id===e);if(n)return(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(n.contentText||"").then(()=>{let t=document.getElementById("copy-tooltip-".concat(e));t&&(t.classList.remove("hidden"),setTimeout(()=>{t.classList.add("hidden")},2e3))}).catch(e=>{console.error("Failed to copy: ",e)})},className:"relative ml-2 text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100","aria-label":"Copy section content",children:[(0,r.jsx)(d.Q,{className:"h-4 w-4"}),(0,r.jsx)("span",{id:"copy-tooltip-".concat(e),className:"absolute z-50 ml-1 mt-1 hidden whitespace-nowrap rounded bg-gray-700 px-2 py-1 text-xs",children:"Section copied!"})]})}return null}let en=e=>{let{contents:t,id:a,selectedPage:n,externalComponents:s,isAda:l,wiki:o,repoName:i}=e,d=(0,f.useRef)(new Set),c=(0,f.useMemo)(()=>(0,G.H)(t),[t]),{headers:u,processedText:m}=(0,f.useMemo)(()=>(function(e,t){let a,r=/^(#{1,3})\s+(.+?)$/gm,n=/^[ ]{0,3}```/gm,s=[];for(;null!==(a=r.exec(e));)(e.slice(0,a.index).match(n)||[]).length%2!=1&&s.push({id:"header-".concat(s.length+1),level:a[1].length,startIndex:a.index,endIndex:a.index+a[0].length,text:a[2]});s.sort((e,t)=>e.startIndex-t.startIndex);for(let t=0;t<s.length;t++){let a=s[t],r=a.startIndex,n=e.length;for(let e=t+1;e<s.length;e++){let t=s[e];if(t.level===a.level){n=t.startIndex;break}}let l=e.slice(r,n);s[t].contentText=l}if(t){s.sort((e,t)=>t.endIndex-e.endIndex);let t=e;for(let e=0;e<s.length;e++)t=t.slice(0,s[e].endIndex)+"[".concat(s[e].id,"](#").concat(s[e].id,")")+t.slice(s[e].endIndex);return{headers:s,processedText:t}}return{headers:s,processedText:e}})(c,l),[c,l]),p=(0,f.useRef)(null);(0,f.useEffect)(()=>{d.current.clear()},[n]);let h=(0,f.useMemo)(()=>{d.current.clear();let e=e=>{let{children:t,node:a,level:n,...s}=e,o="h".concat(n);if(l)return f.createElement(o,{className:"group",...s},t);let i=("string"==typeof t?t:String(t)||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return d.current.add(i),f.createElement(o,{id:i,className:"group","data-header":!0,...s},[t,(0,r.jsx)(D.D,{onCopyLink:()=>{(0,b.sx)(b.lA.SHARE_BUTTON_CLICK,{headerId:i,url:"".concat(window.location.origin).concat(window.location.pathname,"#").concat(i)});let e="".concat(window.location.origin).concat(window.location.pathname,"#").concat(i);ec(i),navigator.clipboard.writeText(e).catch(e=>{console.error("Failed to copy: ",e)})},label:"Copy link to header"},"copy-btn")])},t={h1:function(t){return(0,r.jsx)(e,{level:1,...t})},h2:function(t){return(0,r.jsx)(e,{level:2,...t})},h3:function(t){return(0,r.jsx)(e,{level:3,...t})},h4:function(t){return(0,r.jsx)(e,{level:4,...t})},a:e=>{let{href:t,children:a,node:n,...s}=e,d=er({href:t,headers:u,isAda:l});if(null!==d)return d;if(t&&/^#\d+(\.\d+)*$/.test(t)){let e=t.replace("#",""),a=null==o?void 0:o.pages.find(t=>t.page_plan.id===e);a&&i&&(t="/".concat(i,"/").concat(a.page_plan.id,"-").concat(v()(a.page_plan.title).toLowerCase()))}return(0,r.jsx)("a",{href:t,className:"text-neutral-300 hover:text-neutral-200 hover:underline",...s,children:a})},code:e=>(0,r.jsx)(es,{...e,isAda:l})};return s?{...t,...s,a:e=>{if(e.href.startsWith("/wiki/")){let a=e.href.substring(5),r=a.lastIndexOf("#");-1!==r&&(a=a.substring(0,r)+"/"+a.substring(r+1));let n="";e.children&&"string"==typeof e.children?n=e.children:e.children&&Array.isArray(e.children)&&(n=String(e.children[0]||""));let l=n.indexOf(" (");-1!==l&&(n=n.substring(0,l));let o=v()(n).toLowerCase();return o&&(a=a+"-"+o),f.createElement((null==s?void 0:s.a)||t.a,{...e,href:a})}let a=er({href:e.href,headers:u,isAda:l});return null!==a?a:s.a?f.createElement(s.a,e):f.createElement(t.a,e)}}:t},[n,u,l,s,m,d,o,i]);return l?(0,r.jsx)(T,{contents:m,components:h},"".concat(a,"-content")):(0,r.jsx)("div",{ref:p,children:(0,r.jsx)(R,{contents:m,components:h},"".concat(a,"-content"))})};function es(e){let{className:t,children:a,isAda:n,node:s,...l}=e,o=null==t?void 0:t.replace("language-","");if("mermaid"===o)return(0,r.jsx)(ea,{content:String(a)});let i=J.W[o]||o,d=i!==o?"language-".concat(i):t;return(0,r.jsx)(A,{className:d,node:s,...l,children:a})}let el=e=>{let{bounds:t,handleClick:a}=e,{refs:o,floatingStyles:i}=(0,n.we)({placement:"top",middleware:[(0,s.cY)(20),(0,s.UU)({fallbackPlacements:["bottom"]}),(0,s.BN)({padding:8})],whileElementsMounted:l.ll,elements:{reference:(null==t?void 0:t.isVisible)?{getBoundingClientRect:()=>t.range.getBoundingClientRect()}:null}});return(null==t?void 0:t.isVisible)?(0,r.jsx)(n.XF,{children:(0,r.jsx)("div",{ref:o.setFloating,style:i,className:"bg-card text-card-foreground z-50 rounded-md px-3 py-2 text-sm shadow-lg",children:(0,r.jsxs)("button",{onClick:a,className:"flex items-center gap-2 whitespace-nowrap hover:opacity-80",children:[(0,r.jsx)("span",{children:"Add to Context"}),(0,r.jsx)("span",{className:"bg-accent text-accent-foreground rounded px-1.5 py-0.5 text-xs",children:"Press Q"})]})})}):null},eo=e=>{let{repoName:t,selectedPage:a,wiki:n,previewId:s}=e,l=(0,f.useRef)(null),[o,i]=(0,f.useState)(null),d=(0,f.useRef)(""),c=(0,m.Xr)(w.O);(0,f.useEffect)(()=>{let e=()=>{var e,t;let a=window.getSelection(),r=(null==a?void 0:a.toString().trim())||"";if(r!==d.current){if(d.current=r,!(null==a?void 0:a.rangeCount)||!r||!(null==(e=l.current)?void 0:e.contains(a.anchorNode))||!(null==(t=l.current)?void 0:t.contains(a.focusNode)))return void i(null);i({range:a.getRangeAt(0),isVisible:!0})}},t=e=>{var t,a,r;let n=window.getSelection();"q"===e.key.toLowerCase()&&(null==n?void 0:n.toString().trim())&&(null==(t=l.current)?void 0:t.contains(n.focusNode))&&(null==(a=l.current)?void 0:a.contains(n.anchorNode))&&(e.preventDefault(),i(null),c(n.toString().trim()),null==(r=window.getSelection())||r.removeAllRanges())};return document.addEventListener("selectionchange",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("selectionchange",e),document.removeEventListener("keydown",t)}},[c]);let h=n.pages.find(e=>e.page_plan.id===a);h||(0,x.redirect)("/"+t,x.RedirectType.replace);let g=(0,f.useMemo)(()=>{if(!h)return[];let e=new Set;return p.xI.lexer(h.content).filter(e=>"heading"===e.type).map((t,a)=>{let r=t.text.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),n=r,s=1;for(;e.has(n);)n="".concat(r,"-").concat(s),s++;return e.add(n),{id:n,text:t.text,level:t.depth,startIndex:a,endIndex:a+1}})},[h]),v=(function(e,t){return e?t.replace(/\[([^\]]+)\]\(([^)]*)\)([,.])?/g,function(t,a){let r,n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if("&"===a)return t;if(s&&/^#?\d+(\.\d+)*$/.test(s))return"[".concat(a,"](#").concat(s.replace(/^#/,""),")").concat(l);if(0===s.indexOf("http")&&!s.includes("github.com"))return t;let o=a;o.startsWith("/")&&(o=o.slice(1));let i="";if(o.includes(":")){r=Number.MAX_SAFE_INTEGER,n=0;let[e,t]=o.split(":");o=e,t.split(",").forEach(e=>{let[t,a=t]=e.trim().includes("-")?e.split("-").map(e=>parseInt(e.trim(),10)):[parseInt(e.trim(),10)];r=Math.min(r,t),n=Math.max(n,a)}),i="#L".concat(r,"-L").concat(n)}let d="";d=1===(e.metadata.repo_name.match(/\//g)||[]).length?"https://github.com/".concat(e.metadata.repo_name,"/blob/").concat(e.metadata.commit_hash,"/"):e.metadata.repo_name.includes("github")?"https://".concat(e.metadata.repo_name,"/blob/").concat(e.metadata.commit_hash,"/"):"https://".concat(e.metadata.repo_name,"/-/blob/").concat(e.metadata.commit_hash,"/");let c="".concat(d).concat(o).concat(i);return"<FileRef file-url=".concat(JSON.stringify(c)," ").concat(r&&"min=".concat(r)," ").concat(n&&n!==r?"max=".concat(n):""," file-path=").concat(JSON.stringify(o),">Hii</FileRef>")}):t})(n,(null==h?void 0:h.content)||"No content available").replace("\nThe following files were used as context for generating this wiki page:\n","");return n&&0!==n.pages.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex h-full flex-1 flex-col overflow-hidden",children:[(0,r.jsx)(ei,{repoName:t,selectedPage:a,wiki:n,previewId:s}),(0,r.jsxs)("div",{ref:l,className:"relative flex-1 overflow-y-auto px-3 pt-3 md:rounded-md md:px-0 md:pt-0 [&_::selection]:bg-purple-500/40",style:{scrollbarColor:"var(--color-night) transparent"},children:[(0,r.jsx)("div",{className:"pb-30 mx-auto max-w-2xl md:pb-40 md:pt-6 lg:pt-8",children:(0,r.jsx)("div",{className:"prose prose-invert dark:prose-invert prose-headings:text-inherit prose-p:text-inherit max-w-none",children:(0,r.jsx)(en,{id:"wiki-".concat(t,"-").concat(a),contents:v,selectedPage:a,wiki:n,repoName:t})})}),!s&&(0,r.jsx)(el,{bounds:o,handleClick:()=>{var e;c(d.current),null==(e=window.getSelection())||e.removeAllRanges(),i(null)}})]})]}),g.length>0&&(0,r.jsx)("div",{className:(0,u.A)("hidden overflow-hidden transition-[border-radius] xl:sticky xl:right-0 xl:top-20 xl:block xl:h-[calc(100vh-82px)] xl:w-64 xl:flex-shrink-0 2xl:w-72",s&&"xl:top-28"),style:{scrollbarWidth:"none"},children:(0,r.jsx)(ed,{headers:g,repoName:t,wiki:n,previewId:s})})]}):(0,r.jsx)("div",{className:"bg-night rounded-lg p-6",children:(0,r.jsx)("p",{children:"No wiki content available for this repository."})})};function ei(e){let{repoName:t,selectedPage:a,wiki:n,previewId:s}=e,[l,o]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{l?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[l]),(0,r.jsxs)("div",{className:"bg-background border-b-border sticky top-0 z-10 border-b border-dashed md:hidden",onClick:()=>o(!l),children:[(0,r.jsxs)("div",{className:"flex cursor-pointer items-center gap-2 p-3",children:[(0,r.jsx)(c.K,{className:(0,u.A)("transition-transform",l&&"rotate-90"),weight:"bold",size:16}),(0,r.jsx)("span",{className:"truncate text-base font-normal",children:"Menu"})]}),l&&(0,r.jsx)("div",{className:"block h-screen w-full px-2",children:(0,r.jsx)(Q.M,{repoName:t,selectedPage:a,onLinkClick:()=>o(!1),wiki:n,previewId:s})})]})}let ed=e=>{var t,a;let{headers:n,repoName:s,wiki:l,previewId:o}=e,[i,d]=(0,f.useState)(null),c=null!=(a=null!=i?i:null==(t=n.at(0))?void 0:t.id)?a:null;return((0,f.useEffect)(()=>{let e=Array.from(document.querySelectorAll("h1, h2, h3, h4")).filter(e=>"dataset"in e&&"header"in e.dataset),t=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting);t.length>0&&d(t[0].target.id)},{rootMargin:"-20px 0px -80% 0px",threshold:.5});return e.forEach(e=>{t.observe(e)}),()=>{e.forEach(e=>{t.unobserve(e)})}},[n]),0===n.length)?null:(0,r.jsxs)("div",{className:"flex max-h-full w-full flex-shrink-0 flex-col py-6 pt-0 text-sm lg:pb-4 lg:pt-8 xl:w-64 2xl:w-72",style:{scrollbarColor:"var(--color-night) transparent"},children:[(0,r.jsx)("div",{children:s&&!o&&(0,r.jsx)(Z,{repoName:s,wiki:l})}),(0,r.jsx)("h3",{className:"px-4 pb-5 text-lg font-medium leading-none",children:"On this page"}),(0,r.jsx)("ul",{style:{scrollbarWidth:"none"},className:"min-h-0 flex-1 space-y-3 overflow-y-auto p-4 pt-0",children:n.map(e=>(0,r.jsx)("li",{className:"".concat(1===e.level?"":2===e.level?"ml-3":"ml-6"),children:(0,r.jsx)("a",{href:"#".concat(e.id),onClick:t=>{t.preventDefault(),ec(e.id)},className:(0,L.cn)("hover:text-primary pr-1 font-normal transition-all",c===e.id?"text-primary font-medium":"text-secondary"),children:e.text})},e.id))})]})};function ec(e){let t=document.getElementById(e);if(t){history.pushState(null,"","#".concat(e));let a=t.getBoundingClientRect().top+window.scrollY+-102;window.scrollTo({top:a,behavior:"smooth"})}}},85807:(e,t,a)=>{a.d(t,{A:()=>i,W:()=>d});var r=a(95155),n=a(12115),s=a(4607),l=a(59434);let o={blue:"#519aba",green:"#8dc149",orange:"#e37933",pink:"#f55385",purple:"#a074c4",red:"#cc3e44",steel:"#7494a3",yellow:"#cbcb41"},i=function(e){var t;let a=null!=(t=(0,s.getIcon)(e))?t:(0,s.getIcon)("test.txt");return(0,n.memo)(function(e){var t;let{className:n,size:s=20}=e;return(0,r.jsx)("div",{className:(0,l.cn)("[&_svg_path]:fill-current",n),style:{fill:null!=(t=o[a.color])?t:a.color,height:s,width:s},dangerouslySetInnerHTML:{__html:a.svg}})})},d={js:"javascript",jsx:"javascript",mjs:"javascript",cjs:"javascript",ts:"typescript",tsx:"typescript",mts:"typescript",cts:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",cs:"csharp",css:"css",scss:"scss",less:"less",html:"html",htm:"html",json:"json",md:"markdown",yml:"yaml",yaml:"yaml",sh:"shellscript",bash:"shellscript",sql:"sql",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",vue:"vue",dart:"dart",lua:"lua",r:"r",tex:"tex",latex:"latex",dockerfile:"dockerfile","docker-compose":"dockercompose",gitignore:"ignore",properties:"properties",gradle:"gradle",tf:"terraform",hcl:"terraform",sass:"sass",styl:"stylus",pug:"pug",jade:"pug",coffee:"coffeescript",clj:"clojure",ex:"elixir",elm:"elm",hs:"haskell",hx:"haxe",j2:"jinja",ml:"ocaml",re:"rescript",vala:"vala","blade.php":"blade",erb:"erb",haml:"haml",mustache:"mustache",njk:"nunjucks",todo:"todo"}}}]);