"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8613],{42280:(e,t,r)=>{r.d(t,{e:()=>i});let n=null,a=()=>n||(window.grecaptcha&&"function"==typeof window.grecaptcha.ready?Promise.resolve():n=new Promise((e,t)=>{let r;if(document.querySelector('script[src*="recaptcha/api.js"]')){let t=()=>{window.grecaptcha&&"function"==typeof window.grecaptcha.ready?e():setTimeout(t,50)};t();return}let a=document.createElement("script");a.src="https://www.google.com/recaptcha/api.js?render=explicit",a.async=!0,a.defer=!0;let i=()=>{r&&clearTimeout(r)};a.onload=()=>{let t=()=>{window.grecaptcha&&"function"==typeof window.grecaptcha.ready?(i(),e()):r=setTimeout(t,50)};t()},a.onerror=()=>{i(),n=null,t(Error("Failed to load reCAPTCHA script"))},setTimeout(()=>{i(),n=null,t(Error("reCAPTCHA script loading timeout"))},1e4),document.head.appendChild(a)})),i=async()=>{let e="6LeK1G0rAAAAAGVDKn-92dkphJzZvEobSLCyZJg4";if(e)try{return await a(),new Promise((t,r)=>{if(!window.grecaptcha||"function"!=typeof window.grecaptcha.ready)return void r(Error("reCAPTCHA not available after script load"));let n=setTimeout(()=>{r(Error("reCAPTCHA execution timeout"))},3e4);window.grecaptcha.ready(()=>{let a=document.createElement("div");a.style.display="none",document.body.appendChild(a);try{let r=window.grecaptcha.render(a,{sitekey:e,callback:e=>{clearTimeout(n),document.body.contains(a)&&document.body.removeChild(a),t(e)},size:"invisible"});window.grecaptcha.execute(r)}catch(e){clearTimeout(n),document.body.contains(a)&&document.body.removeChild(a),r(e)}})})}catch(e){throw Error("reCAPTCHA execution failed: ".concat(e))}}},69621:(e,t,r)=>{r.d(t,{D:()=>a});var n=r(74681);let a={MULTIHOP:{name:"query_answer_multihop",engine_id:"multihop_faster",url:"".concat(n.H,"/ada/query"),stream:!0},AGENT:{name:"query_answer_agent",engine_id:"agent",url:"".concat(n.H,"/ada/query"),stream:!0},CODEMAP:{name:"query_answer_codemaps",engine_id:"codemap",url:"".concat(n.H,"/ada/query"),stream:!0}}},74681:(e,t,r)=>{r.d(t,{H:()=>n,K:()=>a});let n="https://api.devin.ai",a="https://app.devin.ai"},84312:(e,t,r)=>{r.d(t,{j:()=>c});var n=r(81717),a=r(94469),i=r(48352),o=r(74681);let c={queriesListKey:["ada-query"],queryItemKey:e=>[...c.queriesListKey,e],queryItem:e=>(0,n.j)({queryKey:c.queryItemKey(e),queryFn:async t=>{let{queryKey:r,client:n,signal:c}=t,s=await i.Ay.get("".concat(o.H,"/ada/query/").concat(e)).json();if(0===s.queries.length)throw Error("Query not yet ready");if("pending"!==s.queries[s.queries.length-1].state)return s;n.setQueryData(r,()=>s);let d=new URL("".concat(o.H.replace("http","ws"),"/ada/ws/query/").concat(e));return await new Promise((e,t)=>{let i,o=new WebSocket(d.toString()),s=!0,u=-1,l=!1;o.addEventListener("message",t=>{if(l)return;let o=JSON.parse(t.data);if(s){if(i=o,n.setQueryData(r,()=>i),s=!1,-1===(u=i.queries.findIndex(e=>"pending"===e.redis_stream))){l=!0,e(i);return}}else{if("done"==o.type){i=(0,a.jM)(i,e=>{e.queries[u].state="done"}),l=!0,e(i);return}i=(0,a.jM)(i,e=>{e.queries[u].response.push(o)}),n.setQueryData(r,()=>i)}},{signal:c}),o.addEventListener("error",()=>{l||t("Connection lost")},{signal:c}),o.addEventListener("close",()=>{l||t("Connection lost")},{signal:c})})},enabled:!0,refetchInterval:!1,staleTime:1/0,retry:!0})}},90061:(e,t,r)=>{function n(e){let t=e.split("::")[0].split("/");return t.length>=5?t.slice(2,-1).join("/"):""}r.d(t,{C5:()=>n,Nt:()=>i,Uf:()=>a});let a=e=>Array.isArray(e),i=e=>{let t=e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").slice(0,30).replace(/-+$/,""),r=crypto.randomUUID();return"".concat(t,"_").concat(r)}},91308:(e,t,r)=>{r.d(t,{Mc:()=>p,d_:()=>m});var n=r(26715),a=r(94469),i=r(48352),o=r(87707),c=r.n(o),s=r(12115),d=r(93224),u=r(5663),l=r(74681),y=r(84312);function p(){let e=(0,n.jE)();return(0,s.useCallback)(async t=>{let r=y.j.queryItem(t.queryId).queryKey;e.setQueryData(r,e=>(void 0===e&&(e={queries:[],title:t.query}),(0,a.jM)(e,e=>{e.queries.push({repo_names:t.repoNames,user_query:t.query,response:[],state:"pending",error:null,engine_id:t.queryDefinition.engine_id,redis_stream:null})}))),(0,u.sx)(u.lA.QUERY_SENT,{engine_id:t.queryDefinition.engine_id,mode:"codemap"===t.queryDefinition.engine_id?"codemap":"agent"===t.queryDefinition.engine_id?"deep":"fast"}),i.Ay.post("".concat(l.H,"/ada/query"),{json:{engine_id:t.queryDefinition.engine_id,user_query:t.query,keywords:[],repo_names:t.repoNames,additional_context:"",query_id:t.queryId,use_notes:!1,attached_context:t.attachedContext,generate_summary:t.generateSummary}}).then(()=>{e.invalidateQueries({queryKey:r})}).catch(()=>{d.oR.error("Failed to run Ada query")})},[e])}function m(e){return(0,s.useMemo)(()=>c().throttle(()=>{i.Ay.post("".concat(l.H,"/ada/warm_public_repo"),{searchParams:{repo_name:e}})},6e5,{leading:!0,trailing:!1}),[e])}}}]);